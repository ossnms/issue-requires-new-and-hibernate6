<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="657px" preserveAspectRatio="none" style="width:1205px;height:657px;background:#FFFFFF;" version="1.1" viewBox="0 0 1205 657" width="1205px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="54" x2="54" y1="36.2969" y2="621.8203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="289.5" x2="289.5" y1="36.2969" y2="621.8203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="525.5" x2="525.5" y1="36.2969" y2="621.8203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="647.5" x2="647.5" y1="36.2969" y2="621.8203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="787.5" x2="787.5" y1="36.2969" y2="621.8203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1033.5" x2="1033.5" y1="36.2969" y2="621.8203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1175.5" x2="1175.5" y1="36.2969" y2="621.8203"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="12" y="24.9951">BusinessEjb</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="5" y="620.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="12" y="640.8154">BusinessEjb</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="219.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="226.5" y="24.9951">CMTTxInterceptor</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="219.5" y="620.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="226.5" y="640.8154">CMTTxInterceptor</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="451.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="458.5" y="24.9951">InterceptorContext</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="451.5" y="620.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="458.5" y="640.8154">InterceptorContext</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="609.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="616.5" y="24.9951">SomeEjb</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="609.5" y="620.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="616.5" y="640.8154">SomeEjb</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85" x="745.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="752.5" y="24.9951">Hibernate</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85" x="745.5" y="620.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="752.5" y="640.8154">Hibernate</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="927.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="934.5" y="24.9951">CachedConnectionManager</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="927.5" y="620.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="934.5" y="640.8154">CachedConnectionManager</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="35" x="1158.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="1165.5" y="24.9951">DB</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="35" x="1158.5" y="620.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="1165.5" y="640.8154">DB</text><path d="M409,51.2969 L409,76.2969 L641,76.2969 L641,61.2969 L631,51.2969 L409,51.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M631,51.2969 L631,61.2969 L641,61.2969 L631,51.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="415" y="68.3638">org.jboss.invocation@2.0.0.Final</text><path d="M896,51.2969 L896,76.2969 L1171,76.2969 L1171,61.2969 L1161,51.2969 L896,51.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1161,51.2969 L1161,61.2969 L1171,61.2969 L1161,51.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="902" y="68.3638">org.jboss.ironjacamar.impl@3.0.4.Final</text><path d="M690,51.2969 L690,76.2969 L886,76.2969 L886,61.2969 L876,51.2969 L690,51.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M876,51.2969 L876,61.2969 L886,61.2969 L876,51.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="696" y="68.3638">org.hibernate@6.2.13.Final</text><path d="M180,51.2969 L180,76.2969 L399,76.2969 L399,61.2969 L389,51.2969 L180,51.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M389,51.2969 L389,61.2969 L399,61.2969 L389,51.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="186" y="68.3638">org.jboss.as.ejb3@30.0.1.Final</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1198.5" x="0" y="101.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1198.5" y1="101.9961" y2="101.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1198.5" y1="104.9961" y2="104.9961"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="370" x="414.25" y="91.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="351" x="420.25" y="107.4966">hibernate query in current EJB business method</text><polygon fill="#181818" points="776,141.6953,786,145.6953,776,149.6953,780,145.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="782" y1="145.6953" y2="145.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="61" y="140.6294">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="74" y="140.6294">hibernate query</text><polygon fill="#181818" points="1021.5,170.8281,1031.5,174.8281,1021.5,178.8281,1025.5,174.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="788" x2="1027.5" y1="174.8281" y2="174.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="795" y="169.7622">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="808" y="169.7622">registerConnection</text><polygon fill="#181818" points="1164,199.9609,1174,203.9609,1164,207.9609,1168,203.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="788" x2="1170" y1="203.9609" y2="203.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="795" y="198.895">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="808" y="198.895">query</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1198.5" x="0" y="232.5273"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1198.5" y1="232.5273" y2="232.5273"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1198.5" y1="235.5273" y2="235.5273"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="280" x="459.25" y="221.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="261" x="465.25" y="238.0278">then call hibernate query in new TX</text><polygon fill="#181818" points="278,272.2266,288,276.2266,278,280.2266,282,276.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="284" y1="276.2266" y2="276.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="61" y="271.1606">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="74" y="271.1606">SomeEjb with RequiresNew Tx</text><polygon fill="#181818" points="513.5,301.3594,523.5,305.3594,513.5,309.3594,517.5,305.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="290" x2="519.5" y1="305.3594" y2="305.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="297" y="300.2935">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="310" y="300.2935">proceed</text><polygon fill="#181818" points="1021.5,330.4922,1031.5,334.4922,1021.5,338.4922,1025.5,334.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525.5" x2="1027.5" y1="334.4922" y2="334.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="532.5" y="329.4263">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="545.5" y="329.4263">pushMetaAwareObject</text><polygon fill="#181818" points="636,359.625,646,363.625,636,367.625,640,363.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525.5" x2="642" y1="363.625" y2="363.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="532.5" y="358.5591">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="545.5" y="358.5591">proceed</text><polygon fill="#181818" points="776,388.7578,786,392.7578,776,396.7578,780,392.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="648" x2="782" y1="392.7578" y2="392.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="655" y="387.6919">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="668" y="387.6919">hibernate query</text><polygon fill="#181818" points="1021.5,417.8906,1031.5,421.8906,1021.5,425.8906,1025.5,421.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="788" x2="1027.5" y1="421.8906" y2="421.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="795" y="416.8247">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="808" y="416.8247">registerConnection</text><polygon fill="#181818" points="1164,447.0234,1174,451.0234,1164,455.0234,1168,451.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="788" x2="1170" y1="451.0234" y2="451.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="795" y="445.9575">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="817" y="445.9575">query</text><polygon fill="#181818" points="1021.5,476.1563,1031.5,480.1563,1021.5,484.1563,1025.5,480.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525.5" x2="1027.5" y1="480.1563" y2="480.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="532.5" y="475.0903">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="554.5" y="475.0903">popMetaAwareObject</text><polygon fill="#181818" points="776,505.2891,786,509.2891,776,513.2891,780,509.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="290" x2="782" y1="509.2891" y2="509.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="297" y="504.2231">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="319" y="504.2231">close (on after completion)</text><polygon fill="#181818" points="1021.5,534.4219,1031.5,538.4219,1021.5,542.4219,1025.5,538.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="788" x2="1027.5" y1="538.4219" y2="538.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="795" y="533.356">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="817" y="533.356">unregisterConnection</text><path d="M304,551.4219 L304,606.4219 L1028,606.4219 L1028,561.4219 L1018,551.4219 L304,551.4219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1018,551.4219 L1018,561.4219 L1028,561.4219 L1018,551.4219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="656" x="310" y="568.4888">cached connection manager for current transaction was already popped causing a log message with:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="526" x="310" y="583.6216">IJ000311: Throwable from unregister connection: java.lang.IllegalStateException:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="703" x="310" y="598.7544">IJ000152: Trying to return an unknown connection: org.jboss.jca.adapters.jdbc.jdk8.WrappedConnectionJDK8</text><!--SRC=[lLJTRzCm47_tNt5lmCFITWKqHIegNOlOq41YbU3rubmJPuuTR6Vj_dik_LYJBaNmWY95YS_t-pYVxrKUGkNZmQ3IQ49TwaZQSk3fLqr6qaMgC7DO2e5riAOk4t92Y0fTK59Ld06psYj3tY-AfBD-VRTSRcvC82Uf2jPrWgtrQylVcz09tzkIJl4-A-Os6AZBWZAdb34CoQ2ikKE36NN9vZCXZ0q4zf5S3tKCrcLHaLZl8sKUhSG6QNeP3Vdvf0ngCO0Zm1dA3egpfa299Rf8bPMUZXdfRG_MiwbTTdxudRwFBgFHk8_zfAnjMlGH5SbuEcw4Z_R9amaymmAVgdi2PK3MpX7NPd4xWsH_Wb1Io6qAaube7IfSN7newpm14y-XxSQpnN6KAS-gZw6JpFaitYEouf0JQqIj-xGRMiFoPv_CbyNPTnAiLSZXEtUrSkI_DW0RSRfx2z7N7fMpaYWLBsD_z5pLFh-ZW1_NwEXRKd3q7CHUPdnWEiZ-xxN_LuksEdNOMzMs2Qcj9tXj3U2ATm7FcqfJW_hcRmtLfiVIzeveMWMmgxDpGMxNcVCGW78NWHLBFToAuD1utCNNw06r8qoVWErMJJOsVPS1WhOPtnhl6M7ROh6ukHqEX-FHA8PbxkmQ4qsmShPiQMwnnr3W8qOyUhFeHclAKDy7jh_ODCLhDkm0H-yk6T0zDQp1ye66sd7z3AC-6Bis7SZZG2WaHfXYnQJyaoQINmzNqG-7ZOzZTMxdNwu4cNGxPuJu3G00]--></g></svg>